# Произведение

## получение карточки произведения
```
GET /work/{id}
```

Пример:
> [/work/1](https://api.fantlab.ru/work/1) - Дэн Симменс


Ответ:
```
{
    work_id: Int,                     # id произведения
    last_modified: DateTime,          # время последнего изменения данных
    work_name: String,                # название произведения
    work_name_orig: String,           # оригинальное название (анг или родной)
    work_name_alts: [                 # массив альтернативных названий произведения
        ...: String,
        ...
    ],
    work_name_bonus: String,          # дополнение к названию
    authors: [
        {
            type: String,                     # тип персоны (autor, art)
            id: Int,                          # id типа персоны ( по формату /{type}/{id} однозначно укажет на нужную персону )
            name: String,                     # имя фамилия
            name_orig: String,                # имя фамилия (анг или родной)
            is_opened: Int,                   # открыта ли страница автора (1 - да, 0 - нет)
        },
        ...
    ],
    work_year: Int,                   # год публикации произведения
    work_year_of_write: Int,          # год написания произведения (если указан)
    work_description: String,         # аннотация
    work_description_author: String,  # автор анотации (может содержать bb-тэги)
    work_notes: String,               # примечание

    title: String,                    # автор(ы)+название в формате "Дэн Симмонс «Гиперион»"
    image: String,                    # ссылка на картинку произведения (обложку по умолчанию)
    image_preview: String,            # ссылка на превью картинки произведения

    publish_statuses: [               # для неопубликованных о статусе проивзедения ("не закончено", "в планах", ...)
        ...: String,
        ...
    ],

    work_published: Int,               # вышло ли произведени (0 - не опубликовано, 1 - опубликовано)
    work_preparing: Int,               # запланированное произведени (1 - "в планах автора")
    work_notfinished: Int,             # не законченое произведение (1 - "не окончено")
    work_lp:  Int,                     # доступен линговоанаолиз произведения (0 - "нет" / 1 - "есть")
    public_download_file: Int,         # есть файл для скачивания/чтения (1 - "доступно для свободного чтения")

    rating: {
        rating: Double,                # рейтинг
        voters: Int,                   # кол-во оценок
    },
    val_midmark_by_weight: Double,     # рейтинг (дубль)
    val_voters: Int,                   # кол-во оценок (дубль)
    val_responsecount: Int,            # кол-во отзывов на произведение

    work_type_id: Int,                 # id типа произведения 
    work_type: String,                 # тип провездения (роман, повесть, рассказ & etc)
    work_type_name: String,            # тип произведения на английском

    work_parent: Int,                  # >0 для неактивных частей - если является частью другого произведение, то тут его id
}
```

## получение карточки произведения (расширенная версия)
```
GET /work/{id}/extended
```
в расширенной информации добавляются поля:  
*awards           - премии автора  
editions_info     - статистика изданий  
editions_blocks   - издания ворка. разбиты по блокам типов  
translations      - переводчики   
classificatory    - классификация   
children          - дерево вложенных ворков, обычно для ворка-цикла   
parents           - входит в   
films             - экранизации и новеллизации    
la_resume         - линговопрофиль произведения*

Пример:
> [/work/1/extended](https://api.fantlab.ru/work/1/extended) - Дэн Симменс


Ответ:
```
{
    work_id: Int,                     # id произведения
    ... все поля обычной карточки произведения (см. выше) и добаляются новые: ...

    awards: {                         # объект с массивами полученных премий и номинаций
      nom: [], win [] |null           # формат массива аналогичен выдаче в карточке автора
    }

    editions_info: {                  # статистическая информация об изданиях обновсящихся к данному произведению
        all: 20,                          # кол-во всего изданий
        booktype: {                       # именной массив (объект) информации об изданиях по типам изданий
            Int: {                            # id типа издания
                id: Int,                          # тип издания
                count: Int,                       # кол-во изданий типа
                name: String,                     # код типа издания (paper, audio, &)
                title: String                     # название типа издания на русском (книги, аудиокниги, &)
            },
            ...
        },
        langs:                            # именной массив (объект) информации об изданиях по языкам изданий
            Int: {                            # id языка
                count: Int,                       # кол-во изданий на этом языке
                lang_code: String,                # двухбуквенный код языка: ru, en и &
                lang_id: Int,                     # id кода языка
                lang_name: String,                # название языка на русском
            }, 
            ...
        },
        translators: [                  # массив информации об изданиях по переводчикам
            {
                count: Int,                       # кол-во изданий с участием данного переводчика
                id: Int,                          # id тпиа переводчика
                name: String,                     # И.Фамилия
            },
            ... ]
        },

    editions_blocks: {              # массив изданий, разбитый по типам изданий
        Int: {                            # id типа издания
            id: Int,                          # тип издания
            block: String,                    # код типа издания (paper, audio, &)
            list: [                           # массив изданий данного типа
                {
                    edition_id: Int,                  # id издания
                    autors: String,                   # автор(ы) (может содержать bb-тэг [autor={id}][/autor] )
                    compilers: String,                # составител(и) (может содержать bb-тэг [autor={id}][/autor] )
                    name: String,                     # название (может содержать bb-тэг [work={id}][/work] )
                    year: Int,                        # год выхода
                    type: Int,                        # id типа издания
                    lang_id: Int,                     # id языка издания
                    lang_code: String,                # код языка издания
                    plandate: Date | null,            # дата выхода (для анонсированных изданий "в планах")  
                    plandate_txt: String,
                    correct_level: Int,               # степерь достоверности данных об издании (1 - сверено с изданием, 0.5 - сетевая информация, 0 - не проверено)
                },
                ...
            ],
       },
       ...
    }

    translations: [                   # переводчики произведения. массив объектов, разбитый по языкам перевода
       {
            lang_code: String,                # двухбуквенный код языка: ru, en и &
            lang_id: Int,                     # id кода языка
            lang: String,                     # название языка на русском
            translations: [                   # массив переводов произведения на данный язык
                {
                    titles: [                       # массив названий данного перевода 
                        {                           # (редко, но встречается что один перевод выходит под назными названиями)
                            title: String,                    # название перевода
                            count: Int,                       # кол-во издний с этим переводом
                        },
                        ...
                    ],
                    year: Int,                      # год перевода
                    translators: [                  # переводчики данного перевода
                        {
                            type: String,                     # тип персоны (тут всегда "translator")
                            id: Int,                          # id тпиа персоны (переводчика)
                            name: String,                     # имя фамилия полностью
                            short_name: String,               # И.Фамилия
                        },
                        ...
                    ],
                },
                ...
            ],
        },
        ...
    ],

    classificatory:                   # массив классификации произведения
        [
            {
                genre_group_id: 1,              # id группы классификатора
                label: String,                  # название группы классификатора на русском
                genre: [                        # массив жанров даной группы классификатора
                    {
                        genre_id: Int,                  # id тип жанра
                        label: String,                  # название типа на русском
                        genre: [ ... ] ,                # вложенные типы (если есть). рекурсивное вложение в массиве такого же вида
                    },
                    ...
               ],
            },
            ...
        ]
    },




```





